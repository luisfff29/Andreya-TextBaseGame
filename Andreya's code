# Andreya Colvin IT-140

# a dictionary linking a room to other rooms
rooms = {
    'Assembly Area': {'East': 'Garden Room', 'North': 'Study', 'West': 'Stone Circle'},
    'Garden Room': {'North': 'Defensive Tactics Room', 'West': 'Assembly Area', 'item': 'Plant Herbs'},
    'Defensive Tactics Room': {'North': 'Head Mistress Office', 'South': 'Garden Room', 'item': 'Mind Reader Necklace'},
    'Head Mistress Office': {'South': 'Defensive Tactics Room', 'West': 'Study', 'item': 'Invisible Wand'},
    'Study': {'South': 'Assembly Area', 'West': 'Swim Room', 'East': 'Head Mistress Office'},  # villain
    'Swim Room': {'East': 'Study', 'South': 'Fairies Bedroom', 'item': 'Water Globes'},
    'Fairies Bedroom': {'North': 'Swim Room', 'South': 'Stone Circle', 'item': 'Magic Crystal'},
    'Stone Circle': {'North': 'Fairies Bedroom', 'East': 'Assembly Area', 'item': 'Dragon Flame'}
}
# start the player in the Assembly Area
current_room = 'Assembly Area'
inventory = []  # list begins empty
items = {
    'Garden Room': 'Plant Herbs',
    'Defensive Tactics Room': 'Mind Reader Necklace',
    'Head Mistress Office': 'Invisible Wand',
    'Swim Room': 'Water Globes',
    'Fairies Bedroom': 'Magic Crystal',
    'Stone Circle': 'Dragon Flame'
}
command = ''

def user_instructions():
    # Print a main menu and the commands
    print("Welcome to Alfea, A College for Fairies ")
    print("Collect 6 items to win the game, or be defeated by the Blood Witch.")
    print("Move commands: go South, go North, go East, go West")
    print("Add to Inventory: get 'item name'")


def move_between_rooms(room, direction):
    global current_room, command
    # move to next room
    current_room = rooms[room][direction]
    if current_room == 'Study':
        if len(inventory) == 6:
            print('Congratulations! You have collected all items and defeated the dragon!')
        else:
            print('NOM NOM... GAME OVER!')
        command = 'exit'

def grab_item(item):
    # grab item from room put into inventory
    inventory.append(item)
    del rooms[current_room]['item']

def main():
    # show the player the game instructions
    global command, current_room
    user_instructions()
    # Game loop
    while command != 'exit':

        possible_moves = rooms[current_room].keys()
        print('-' * 27)
        print(f'You are in {current_room}')
        print(f'Inventory: {inventory}')
        print(f'You see a {rooms[current_room].get("item", "NA")}')
        print("Possible moves: go, get, exit")
        command = input('Enter your next move: ')

        if command == 'go':
            print("Possible directions:", *possible_moves)
            direction = input('What direction do you want to go?: ')
            if direction in possible_moves:
                move_between_rooms(current_room, direction)
            else:
                print('Invalid direction')
        elif command == 'get':
            item = input('What do you want to get?: ')
            if item in rooms[current_room]['item']:
                grab_item(item)
            else:
                print(f'There\'s no {item} here.')
        else:
            print('Invalid command')
main()

print('Goodbye. Thanks for playing...')
